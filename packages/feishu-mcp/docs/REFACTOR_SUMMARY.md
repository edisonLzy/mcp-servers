# æ–‡æ¡£å·¥å…·é‡æ„æ€»ç»“

## é‡æ„æ¦‚è¿°

æœ¬æ¬¡é‡æ„å°†åŸæœ‰çš„ `get-wiki-document-content` å·¥å…·æ‹†åˆ†ä¸ºä¸¤ä¸ªä¸“é—¨çš„å·¥å…·ï¼Œä»¥æä¾›æ›´æ¸…æ™°çš„åŠŸèƒ½åˆ†ç¦»å’Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚

## å˜æ›´è¯¦æƒ…

### ğŸ”„ é‡æ„çš„å·¥å…·

#### åŸå·¥å…·: `get-wiki-document-content`
- **æ–‡ä»¶**: `getDocumentContent.ts`
- **åŠŸèƒ½**: è·å–æ–‡æ¡£å†…å®¹ï¼Œæ”¯æŒç»“æ„åŒ–å’Œçº¯æ–‡æœ¬ä¸¤ç§æ ¼å¼
- **é—®é¢˜**: åŠŸèƒ½æ··åˆï¼Œå‚æ•°å¤æ‚

#### æ–°å·¥å…· 1: `get-document-blocks`
- **æ–‡ä»¶**: `getDocumentBlocks.ts`
- **åŠŸèƒ½**: ä¸“é—¨è·å–æ–‡æ¡£çš„ç»“æ„åŒ–å—æ•°æ®
- **å‚æ•°**:
  - `document_id`: æ–‡æ¡£ID
  - `include_children`: æ˜¯å¦åŒ…å«å­å—ï¼ˆé»˜è®¤ trueï¼‰
- **è¿”å›**: ç»“æ„åŒ–çš„æ–‡æ¡£å—æ•°æ®ï¼ŒåŒ…å«å—ç±»å‹ã€å†…å®¹ã€å±‚çº§å…³ç³»ç­‰

#### æ–°å·¥å…· 2: `get-document-raw-content`
- **æ–‡ä»¶**: `getDocumentRawContent.ts`
- **åŠŸèƒ½**: ä¸“é—¨è·å–æ–‡æ¡£çš„çº¯æ–‡æœ¬å†…å®¹
- **å‚æ•°**:
  - `document_id`: æ–‡æ¡£ID
  - `lang`: è¯­è¨€ä»£ç ï¼ˆæ•°å­—ç±»å‹ï¼Œ0=é»˜è®¤ï¼Œ1=ä¸­æ–‡ï¼Œ2=è‹±æ–‡ç­‰ï¼‰
- **è¿”å›**: çº¯æ–‡æœ¬å†…å®¹å’Œå†…å®¹é•¿åº¦

## ğŸ¯ é‡æ„ä¼˜åŠ¿

### 1. **åŠŸèƒ½åˆ†ç¦»**
- ç»“æ„åŒ–æ•°æ®è·å–å’Œçº¯æ–‡æœ¬è·å–åˆ†ç¦»
- æ¯ä¸ªå·¥å…·èŒè´£å•ä¸€ï¼Œæ›´æ˜“ç†è§£å’Œä½¿ç”¨

### 2. **å‚æ•°ç®€åŒ–**
- ç§»é™¤äº†å¤æ‚çš„ `format` å‚æ•°
- æ¯ä¸ªå·¥å…·çš„å‚æ•°æ›´åŠ ä¸“æ³¨å’Œç®€æ´

### 3. **æ€§èƒ½ä¼˜åŒ–**
- ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å·¥å…·
- é¿å…ä¸å¿…è¦çš„æ•°æ®å¤„ç†å’Œä¼ è¾“

### 4. **ç±»å‹å®‰å…¨**
- ä¿®å¤äº†è¯­è¨€å‚æ•°çš„ç±»å‹é”™è¯¯
- æ›´å¥½çš„ TypeScript æ”¯æŒ

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### è·å–æ–‡æ¡£ç»“æ„åŒ–å—æ•°æ®
```json
{
  "tool": "get-document-blocks",
  "params": {
    "document_id": "your_document_id",
    "include_children": true
  }
}
```

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "document_id": "your_document_id",
  "blocks": [...],
  "block_count": 15,
  "total_blocks": 15
}
```

### è·å–æ–‡æ¡£çº¯æ–‡æœ¬å†…å®¹
```json
{
  "tool": "get-document-raw-content",
  "params": {
    "document_id": "your_document_id",
    "lang": 0
  }
}
```

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "document_id": "your_document_id",
  "lang": 0,
  "content": "è¿™æ˜¯æ–‡æ¡£çš„çº¯æ–‡æœ¬å†…å®¹...",
  "content_length": 1234
}
```

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### æ–‡ä»¶å˜æ›´
- âœ… é‡å‘½å: `getDocumentContent.ts` â†’ `getDocumentBlocks.ts`
- âœ… æ–°å»º: `getDocumentRawContent.ts`
- âœ… æ›´æ–°: `index.ts` ä¸­çš„å·¥å…·æ³¨å†Œ

### API æ˜ å°„
- `get-document-blocks` â†’ `client.getDocumentBlocks()`
- `get-document-raw-content` â†’ `client.getDocumentRawContent()`

### é”™è¯¯å¤„ç†
- ä¿æŒä¸€è‡´çš„é”™è¯¯å¤„ç†æ ¼å¼
- æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å’Œé”™è¯¯ç 

## ğŸš€ è¿ç§»æŒ‡å—

### å¯¹äºç°æœ‰ç”¨æˆ·
å¦‚æœæ‚¨ä¹‹å‰ä½¿ç”¨ `get-wiki-document-content` å·¥å…·ï¼š

1. **è·å–ç»“æ„åŒ–æ•°æ®**ï¼ˆåŸ `format: 'structured'`ï¼‰:
   ```json
   // æ—§æ–¹å¼
   {
     "tool": "get-wiki-document-content",
     "params": {
       "document_id": "xxx",
       "format": "structured"
     }
   }
   
   // æ–°æ–¹å¼
   {
     "tool": "get-document-blocks",
     "params": {
       "document_id": "xxx"
     }
   }
   ```

2. **è·å–çº¯æ–‡æœ¬å†…å®¹**ï¼ˆåŸ `format: 'text'`ï¼‰:
   ```json
   // æ—§æ–¹å¼
   {
     "tool": "get-wiki-document-content",
     "params": {
       "document_id": "xxx",
       "format": "text"
     }
   }
   
   // æ–°æ–¹å¼
   {
     "tool": "get-document-raw-content",
     "params": {
       "document_id": "xxx"
     }
   }
   ```

## âœ… éªŒè¯ç»“æœ

- âœ… ä»£ç ç¼–è¯‘æˆåŠŸ
- âœ… æœåŠ¡å™¨å¯åŠ¨æ­£å¸¸
- âœ… ä¸¤ä¸ªæ–°å·¥å…·å·²æˆåŠŸæ³¨å†Œ
- âœ… ç±»å‹é”™è¯¯å·²ä¿®å¤
- âœ… åŠŸèƒ½æµ‹è¯•é€šè¿‡

è¿™æ¬¡é‡æ„æå‡äº†å·¥å…·çš„å¯ç”¨æ€§å’Œç»´æŠ¤æ€§ï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´æ¸…æ™°ã€æ›´ä¸“æ³¨çš„æ–‡æ¡£å†…å®¹è·å–æ–¹å¼ã€‚