# 学习笔记整理工作流 (Learning Notes Organization Workflow)

## 概述
通过AI专家角色扮演和Web深度研究，将用户记录的零散知识点或问题整理成完善、专业的学习笔记，并保存到指定的飞书文档中。

## 输入参数
- **零散知识内容**: {{scattered_knowledge}}
- **目标文档位置**:
  - 空间ID: {{space_id}}
  - 父文档token: {{parent_node_token}}
  - 文档标题: {{document_title}}
- **当前日期**: {{current_date}}

## 执行步骤

### 1. 内容分析与关键词提取

**任务**: 分析用户提供的零散知识内容，识别核心概念和研究方向。

**操作步骤**:
1. 仔细阅读和分析用户提供的零散知识内容
2. 识别主要知识领域（技术、学术、商业、生活等）
3. 提取3-5个核心关键词或概念
4. 确定需要深度研究的方向和角度

**输出**: 明确列出识别的知识领域、核心概念和研究关键词

### 2. 专家角色扮演与知识整合

**角色设定**: 根据识别的知识领域，扮演相应的专家角色：

- **技术领域**: 资深工程师/架构师，具备深厚的技术功底和实践经验
- **学术领域**: 该领域的教授/研究员，熟悉理论体系和最新研究
- **商业领域**: 行业专家/顾问，了解商业模式和市场趋势
- **生活技能**: 经验丰富的实践者，掌握实用技巧和方法论
- **跨领域**: 具备多学科背景的知识集成专家

**知识整合要求**:
1. 结合原始零散知识进行深度分析和理解
2. 补充必要的背景知识和理论基础
3. 提供实际应用案例和操作指导
4. 建立知识点之间的逻辑联系
5. 指出常见误区和注意事项
6. **重点突出关键信息**：
   - 使用**粗体**标记核心概念和重要术语
   - 用*斜体*强调需要特别注意的内容
   - 用`代码格式`标记技术术语、工具名称和代码
   - 用引用块突出重要定义和核心原理
   - 合理使用表格展示对比和结构化信息
   - **🔴 红色标记**：极其重要的警告和注意事项
   - **🟡 黄色标记**：重要提醒和关键要点
   - **🔵 蓝色标记**：技术要点和专业术语

### 3. 生成结构化学习笔记

**输出格式**: 严格按照以下模板生成Markdown格式的学习笔记：

```markdown
# {{knowledge_domain}} 学习笔记 | {{current_date}}

## 📖 核心概念
### 基本定义
**[核心概念名称]** 是指{权威定义}。*需要特别注意的是*{重要说明}。

> 权威定义：{引用权威来源的原始定义}

**🔴 重要警告**：{极其重要的注意事项}

### 关键特征
**[概念名称]** 具有以下主要特征：
- **特征1**：{详细描述}
- **特征2**：{详细描述}
- **🟡 重要提醒**：{关键要点}

### 历史背景
**[概念名称]** 的发展经历了以下重要阶段：
- **{年代}**：{重要里程碑事件}
- **{年代}**：{关键技术突破}

## 🔍 深度解析
### 理论基础
**[概念名称]** 基于以下核心理论：

> **核心原理**：{重要理论阐述}

其中，**🔵 `{关键技术术语}`** 是理解该概念的*关键所在*。

### 技术细节
#### 实现方法
使用 **🔵 `{工具名称}`** 进行操作：

```
{代码示例或命令}
```

**重要步骤**：
1. **第一步**：{操作描述}
2. **第二步**：{操作描述}
3. **🟡 注意**：{重要提醒}

### 对比分析
| 特性 | **[概念A]** | **[概念B]** |
|------|-------------|-------------|
| 优势 | {优势描述} | {优势描述} |
| 劣势 | {劣势描述} | {劣势描述} |

## 💡 实践应用
### 应用场景
**[概念名称]** 特别适用于以下场景：
- **场景1**：{具体描述}
- **场景2**：{具体描述}
- **🔴 不适用场景**：{需要避免的情况}

### 操作指南
#### 基础操作
使用 **🔵 `{工具命令}`** 执行：

```bash
{具体命令示例}
```

> **最佳实践**：{重要操作建议}

### 最佳实践
1. **性能优化**：使用 **🔵 `{优化工具}`** 进行{优化描述}
2. **🟡 安全考虑**：*务必注意* {安全要点}
3. **错误处理**：当遇到 **🔴 `{错误类型}`** 时，应该{处理方法}

### 常见问题
**Q**: {常见问题}？
**A**: 这通常是由于 **🔵 `{技术原因}`** 导致的。解决方法是{解决步骤}。

## 🌐 最新发展
### 行业趋势
**{年份}年**，**🔵 `{技术名称}`** 成为了{趋势描述}。**🟡 特别值得关注的是**{重要发展}。

### 新技术/新方法
- **{新技术名称}**：{技术描述}
- **🔵 {新工具名称}**：{工具特点}

### 未来展望
预计在 **{时间范围}** 内，**🔵 `{技术领域}`** 将{发展预测}。

## 🔗 知识连接
### 相关概念
- **{相关概念1}**：{关联描述}
- **{相关概念2}**：{关联描述}
- **🟡 延伸概念**：{扩展知识点}

### 跨领域应用
**[概念名称]** 在以下领域也有重要应用：
- **{领域1}**：{应用方式}
- **{领域2}**：{应用方式}

### 学习路径
#### 建议学习顺序
1. **基础阶段**：掌握 **🔵 `{基础概念}`**
2. **进阶阶段**：学习 **🔵 `{进阶技术}`**
3. **实践阶段**：使用 **🔵 `{实践工具}`** 进行项目

## 💼 个人思考
### 关键洞察
> **核心理解**：{个人深度思考}

*我认为*{个人观点}，这对于{应用场景}具有**🟡 重要意义**。

### 实际应用计划
- **短期目标**：在{时间范围}内掌握 **🔵 `{具体技能}`**
- **长期规划**：将**{核心概念}**应用到{具体项目}中

### 待深入研究
- **{研究方向1}**：{研究价值}
- **🟡 {研究方向2}**：{研究重要性}

## 📚 参考来源
### 权威资料
- **官方文档**：[{资源名称}]({链接})
- **学术论文**：{论文标题}

### 实用工具
- **🔵 `{工具名称}`**：{工具描述}
- **🔵 `{平台名称}`**：{平台特点}

### 延伸阅读
- **《{书籍名称}》**：{书籍简介}
- **{课程名称}**：{课程特点}

## 🏷️ 标签
`#{{primary_domain}}` `#{{secondary_topics}}` `#学习笔记` `#{{current_date}}`
```

**内容质量要求**:
- 确保信息的准确性和权威性
- 保持逻辑清晰和结构完整
- 提供具体可操作的建议
- 包含充足的实例和案例
- **使用恰当的样式标记突出关键信息**：
  - **粗体**：核心概念、重要术语、关键结论
  - *斜体*：强调词汇、注意事项、重要说明
  - `代码格式`：技术术语、工具名称、命令、代码片段
  - > 引用块：重要定义、权威观点、核心原理
  - 表格：对比分析、结构化信息展示
  - **🔴 红色标记**：极其重要的警告和注意事项
  - **🟡 黄色标记**：重要提醒和关键要点
  - **🔵 蓝色标记**：技术要点和专业术语

### 4. 创建文档

根据提供的参数创建新的飞书文档：

```
工具: create-wiki-node
参数: {
  "space_id": "{{space_id}}",
  "obj_type": "docx",
  "title": "{{document_title}}",
  "parent_node_token": "{{parent_node_token}}"  // 如果提供的话
}
```

**错误处理**:
- 文档创建失败：检查空间ID和父节点token的有效性
- 同名文档存在：询问用户是否覆盖或使用新标题
- 权限不足：提示用户检查编辑权限

### 5. 转换并保存内容

**步骤5.1**: 转换Markdown为飞书文档blocks
```
工具: convert-content-to-blocks
参数: {
  "content_type": "markdown",
  "content": "[步骤3生成的完整学习笔记内容]"
}
```

**步骤5.2**: 保存内容到文档
```
工具: create-document-blocks
参数: {
  "document_id": "[新创建文档的obj_token]",
  "index": 0,
  "blocks": "[转换后的blocks数组，按正确顺序排列]"
}
```

**重要注意事项**:
- 确保blocks的顺序与原Markdown结构一致
- 使用convert-content-to-blocks返回的first_level_block_ids进行正确排序
- 保持标题层级和内容的完整性

### 6. 输出结果报告

提供完整的执行结果报告：

```
## 🎉 学习笔记整理完成

### 🔍 处理统计
- 原始内容长度: [字符数]
- 识别知识领域: [领域列表]
- 生成笔记长度: [字符数]

### 📄 文档信息
- 文档标题: {{document_title}}
- 文档ID: [obj_token]
- 访问链接: https://feishu.cn/wiki/[document_token]
- 所属空间: {{space_id}}
- 父文档: {{parent_node_token}}

### ✅ 笔记内容概览
- 核心概念数量: [数量]
- 实践案例数量: [数量]
- 参考来源数量: [数量]
- 标签: [标签列表]
```

## 样式标记使用规范

### Markdown样式标记指南
为确保生成的学习笔记具有良好的可读性和重点突出效果，请严格按照以下规范使用样式标记：

#### 1. **粗体 (`**文本**`)**
- **核心概念名称**：如 **React**、**机器学习**、**区块链**
- **重要术语**：如 **虚拟DOM**、**神经网络**、**智能合约**
- **关键结论**：如 **最重要的优势是...**、**核心原理在于...**
- **重要步骤标题**：如 **第一步**、**关键操作**
- **技术名称和框架**：如 **Vue.js**、**TensorFlow**、**Docker**

#### 2. *斜体 (`*文本*`)*
- **强调词汇**：如 *特别注意*、*务必*、*重要的是*
- **注意事项**：如 *需要避免*、*不建议*、*谨慎使用*
- **个人观点标识**：如 *我认为*、*个人理解*、*值得思考的是*
- **情感色彩词**：如 *令人惊讶的*、*有趣的现象*

#### 3. `代码格式 (\`文本\`)`
- **技术术语**：如 `API`、`JSON`、`HTTP`、`SQL`
- **工具名称**：如 `npm`、`git`、`webpack`、`VS Code`
- **命令和代码**：如 `npm install`、`git commit`
- **文件名和路径**：如 `package.json`、`src/components`
- **配置项和参数**：如 `--save-dev`、`port: 3000`

#### 4. > 引用块
- **权威定义**：引用官方文档或学术定义
- **重要原理**：核心理论和科学原理
- **最佳实践建议**：经验总结和关键建议
- **核心思想**：个人深度思考和理解

#### 5. 表格格式
- **对比分析**：技术、工具、方法的优缺点对比
- **分类整理**：特征、属性、类型的结构化展示
- **参数说明**：配置项、选项的详细说明

#### 6. 列表格式
- **有序列表**：步骤、流程、学习路径
- **无序列表**：特点、优势、注意事项
- **嵌套列表**：分层级的信息组织

#### 7. 彩色标记 (使用彩色emoji + 粗体)
- **🔴 红色标记**：极其重要的警告、禁止事项、错误类型
- **🟡 黄色标记**：重要提醒、关键要点、注意事项
- **🔵 蓝色标记**：技术要点、专业术语、工具名称
- **🟢 绿色标记**：成功案例、最佳实践、推荐方案
- **🟠 橙色标记**：中等重要度的提醒、建议性内容

### 使用原则
1. **适度使用**：避免过度标记，保持文档整洁
2. **一致性**：同类内容使用相同的标记方式
3. **层次感**：通过不同标记营造清晰的信息层次
4. **可读性优先**：标记应该提升而不是干扰阅读体验

## 错误处理机制

### 文档操作错误
- **权限不足**: 提供详细的权限检查指导
- **文档冲突**: 提供冲突解决选项
- **格式转换失败**: 检查Markdown格式，提供修复建议

### 内容质量保证
- **知识准确性**: 基于专业知识和经验，确保信息的准确性
- **逻辑完整性**: 确保各部分内容的逻辑关联
- **实用性**: 提供可操作的具体建议和示例

## 最佳实践

### 内容组织
- 从基础概念到高级应用的逻辑顺序
- 理论与实践相结合
- 提供多个视角和应用场景
- 包含个人思考和行动计划

### 用户体验
- 提供详细的进度反馈
- 清晰的错误信息和解决方案
- 可访问的最终文档链接
- 结构化的结果报告